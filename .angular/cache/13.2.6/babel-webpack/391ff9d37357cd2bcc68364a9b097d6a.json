{"ast":null,"code":"import _asyncToGenerator from \"/Users/baeonette/Software Development/Final-Project/broadcast/broadcast-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/posts.service\";\nimport * as i4 from \"src/app/services/no-posts.service\";\nimport * as i5 from \"src/app/services/voting.service\";\nimport * as i6 from \"src/app/services/flagging.service\";\nimport * as i7 from \"src/app/services/user.service\";\n\nfunction PostComponent_div_2_a_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_a_14_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const post_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.handleFollow(post_r4);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const post_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.followStatus(post_r4));\n  }\n}\n\nfunction PostComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"div\", 8)(3, \"h6\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 10)(6, \"a\", 11)(7, \"div\", 12);\n    i0.ɵɵtext(8, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 13)(10, \"div\", 14);\n    i0.ɵɵtext(11, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_a_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const post_r4 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.handleFlag(post_r4);\n    });\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, PostComponent_div_2_a_14_Template, 2, 1, \"a\", 16);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"div\", 17);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 18)(18, \"div\", 19)(19, \"div\", 20)(20, \"div\", 21)(21, \"div\", 22);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const post_r4 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.upvote(post_r4);\n    });\n    i0.ɵɵelement(22, \"img\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 24);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 22);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const post_r4 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.downvote(post_r4);\n    });\n    i0.ɵɵelement(26, \"img\", 25);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 26)(28, \"a\", 27);\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"a\");\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"date\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const post_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"post-\", post_r4.messageId, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r4.messageTitle);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.flagStatus(post_r4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isCurrentUserPost(post_r4));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", post_r4.messageBody, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵstyleMap(ctx_r0.currentUser && ctx_r0.hasVoted(post_r4) === 1 ? \"filter: none;\" : \"filter: brightness(5) saturate(0%);\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"post-\", post_r4.messageId, \"-vote-count\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", post_r4.voteSummary, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(ctx_r0.currentUser && ctx_r0.hasVoted(post_r4) === -1 ? \"filter: none;\" : \"filter: brightness(5) saturate(0%);\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", \"/user/\" + post_r4.appUser.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(post_r4.appUser.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" // \", i0.ɵɵpipeBind2(32, 14, post_r4.dateStamp, \"short\"), \"\");\n  }\n}\n\nfunction PostComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29)(2, \"div\", 8);\n    i0.ɵɵelement(3, \"h6\", 30);\n    i0.ɵɵelementStart(4, \"div\", 10)(5, \"a\", 11)(6, \"div\", 12);\n    i0.ɵɵtext(7, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 31)(9, \"div\", 14);\n    i0.ɵɵtext(10, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 32);\n    i0.ɵɵtext(12, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 32);\n    i0.ɵɵtext(14, \"Follow\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 17);\n    i0.ɵɵtext(16, \" Check \");\n    i0.ɵɵelementStart(17, \"a\", 33);\n    i0.ɵɵtext(18, \"the explore page\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" to find people to follow, or Broadcast something \");\n    i0.ɵɵelementStart(20, \"a\", 34);\n    i0.ɵɵtext(21, \"here\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 18)(23, \"div\", 35)(24, \"div\", 20)(25, \"div\", 21)(26, \"div\", 36);\n    i0.ɵɵelement(27, \"img\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 38);\n    i0.ɵɵtext(29, \" 0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 36);\n    i0.ɵɵelement(31, \"img\", 39);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(32, \"div\", 40);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.noPostsMessage, i0.ɵɵsanitizeHtml);\n  }\n}\n\nfunction PostComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29)(2, \"div\", 8);\n    i0.ɵɵelement(3, \"h6\", 30);\n    i0.ɵɵelementStart(4, \"div\", 10)(5, \"a\", 11)(6, \"div\", 12);\n    i0.ɵɵtext(7, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 31)(9, \"div\", 14);\n    i0.ɵɵtext(10, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 32);\n    i0.ɵɵtext(12, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 32);\n    i0.ɵɵtext(14, \"Follow\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 17);\n    i0.ɵɵtext(16, \" Either an error occurred, or you will be the first to create a post! Broadcast something \");\n    i0.ɵɵelementStart(17, \"a\", 34);\n    i0.ɵɵtext(18, \"here\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 18)(20, \"div\", 35)(21, \"div\", 20)(22, \"div\", 21)(23, \"div\", 36);\n    i0.ɵɵelement(24, \"img\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 38);\n    i0.ɵɵtext(26, \" 0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 36);\n    i0.ɵɵelement(28, \"img\", 39);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(29, \"div\", 40);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.noPostsMessage, i0.ɵɵsanitizeHtml);\n  }\n}\n\nfunction PostComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"div\", 42);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_5_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.jumpToTop();\n    });\n    i0.ɵɵelement(2, \"img\", 43);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport class PostComponent {\n  constructor(http, // Build private HTTP client\n  router, // Build private router\n  postService, // Create post service\n  noPostsService, // Import no posts messages\n  votingService, // Import Voting service\n  flaggingService, // Import flagging service\n  userService) {\n    this.http = http;\n    this.router = router;\n    this.postService = postService;\n    this.noPostsService = noPostsService;\n    this.votingService = votingService;\n    this.flaggingService = flaggingService;\n    this.userService = userService;\n  } // Make async so request happen asynchronously\n\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.postType = _this.type; // Get user data\n\n      _this.userService.getCurrentUser().subscribe(res => {\n        _this.currentUser = res;\n      });\n\n      _this.postService.getFollowingPosts().subscribe(res => {\n        _this.followingUsers = res;\n        console.log(res);\n      }); // Run for explore page\n\n\n      if (_this.type === 2) {\n        _this.postService.getAllPosts().subscribe(res => {\n          _this.posts = res;\n        });\n      } else if (_this.type === 1) {\n        // Runs for home page\n        _this.postService.getFollowingPosts().subscribe(res => {\n          _this.posts = res;\n        });\n      }\n\n      if (!_this.posts) {\n        _this.noPostsMessage = _this.noPostsService.noPosts();\n      }\n    })();\n  }\n  /************************************\n   *                                  *\n   *           Voting below           *\n   *                                  *\n   ************************************/\n  // Checks if user has voted, and vote status\n\n\n  hasVoted(post) {\n    // Return 1 if user has voted on the post, 0 if they have not, and -1 if its a downvote\n    if (post.votes.filter(vote => vote.appUser.id === this.currentUser.id && vote.value === 1).length) return 1;else if (post.votes.filter(vote => vote.appUser.id === this.currentUser.id && vote.value === -1).length) return -1;else return 0;\n  }\n\n  // Upvotes message\n  upvote(post) {\n    if (this.hasVoted(post) === 0) {\n      // If user has NOT VOTED\n      // User hasn't voted, so we add a vote\n      this.votingService.createMessageVote(post.messageId).subscribe(res => {\n        // Reload component\n        this.ngOnInit();\n      }, err => {\n        if (err.status === 500) return;\n      });\n    }\n\n    if (this.hasVoted(post) === 1) {\n      // If user HAS UPVOTED\n      // User has voted, so we remove the vote\n      let voteId = post.votes.filter(vote => vote.appUser.id === this.currentUser.id);\n      voteId = voteId[0].voteId; // Clear upvote\n\n      this.votingService.deleteMessageVote(voteId).subscribe(res => {\n        this.ngOnInit();\n      }, err => {\n        if (err.status === 500) return;\n      });\n    }\n\n    if (this.hasVoted(post) === -1) {\n      // If user HAS DOWNVOTED\n      // User has downvoted, but wants to upvote, so we add a vote\n      let voteId = post.votes.filter(vote => vote.appUser.id === this.currentUser.id);\n      voteId = voteId[0].voteId; // Remove downvote\n\n      this.votingService.deleteMessageVote(voteId).subscribe(res => {\n        // Then add upvote\n        this.votingService.createMessageVote(post.messageId).subscribe(res => {\n          this.ngOnInit();\n        }, err => {\n          if (err.status === 500) return;\n        });\n      });\n    }\n  }\n\n  // Downvote message\n  downvote(post) {\n    if (this.hasVoted(post) === 0) {\n      // If user has NOT VOTED\n      // User hasn't voted, so we add a downvote\n      this.votingService.createMessageDownVote(post.messageId).subscribe(res => {\n        this.ngOnInit();\n      }, err => {\n        if (err.status === 500) return;\n      });\n    }\n\n    if (this.hasVoted(post) === 1) {\n      // If user HAS UPVOTED\n      // User has voted, so we remove the vote\n      let voteId = post.votes.filter(vote => vote.appUser.id === this.currentUser.id);\n      voteId = voteId[0].voteId; // Delete upvote\n\n      this.votingService.deleteMessageVote(voteId).subscribe(res => {\n        // Add downvote\n        this.votingService.createMessageDownVote(post.messageId).subscribe(res => {\n          this.ngOnInit();\n        });\n      }, err => {\n        if (err.status === 500) return;\n      });\n    }\n\n    if (this.hasVoted(post) === -1) {\n      // If user HAS DOWNVOTED\n      // User has downvoted, but wants to downvote again, so we clear vote\n      let voteId = post.votes.filter(vote => vote.appUser.id === this.currentUser.id);\n      voteId = voteId[0].voteId; // Delete upvote\n\n      this.votingService.deleteMessageVote(voteId).subscribe(res => {\n        this.ngOnInit();\n      }, err => {\n        if (err.status === 500) return;\n      });\n    }\n  }\n\n  /*************************************\n   *                                   *\n   *          Following below          *\n   *                                   *\n   *************************************/\n  // Checks if current user made post\n  isCurrentUserPost(post) {\n    // Returns true if currentUser made post, else return false\n    return post.appUser.id !== this.currentUser.id;\n  } // Checks if user is following. bool true/false\n\n\n  isFollowing(post, appUser) {\n    //  Return true if following, false if not following\n    if (appUser.filter(user => user.appUser.id === post.appUser.id).length) return true;else if (appUser.filter(user => user.appUser.id !== post.appUser.id).length) return false;else return null;\n  }\n\n  // Follows un-following users, and un-follows following users\n  handleFollow(post) {\n    if (!this.isFollowing(post, this.followingUsers)) {\n      // If NOT following, follow\n      this.userService.followUser(post.appUser.id).subscribe(res => {\n        console.log(res);\n        this.ngOnInit();\n      });\n    } else if (this.isFollowing(post, this.followingUsers)) {\n      // If following, unfollow\n      this.userService.unfollowUser(post.appUser.id).subscribe(res => {\n        console.log(res);\n        this.ngOnInit();\n      });\n    }\n  }\n\n  followStatus(post) {\n    // If followingUsers contains user ID from post, switch text from \"follow\" to \"unfollow\"\n    if (this.isFollowing(post, this.followingUsers)) return 'Unfollow';else return 'Follow';\n  }\n  /**************************************\n   *                                    *\n   *           Flagging below           *\n   *                                    *\n   **************************************/\n\n\n  isFlagged(post\n  /*, appUser: any*/\n  ) {\n    if (!post.flags.length) {\n      //flag array is empty, no flag\n      return 0;\n    } //flag array exists\n    else return 1;\n  }\n\n  handleFlag(post) {\n    //method calls isFlagged to check to see if there is an existing flag, if there is, \n    //uses createFlag with HTTP POST. If not uses HTTP DELETE deleteFlag.\n    var postId = post.messageId;\n\n    if (this.isFlagged(post) === 0) {\n      //then flag does not exist, HTTP POST flag\n      this.flaggingService.createFlag(postId).subscribe(res => {\n        console.log(res);\n        this.ngOnInit();\n      });\n    } //flag exists, delete flag\n    else {\n      //flagId is inside flag[0] array\n      var flagId = post.flags[0]['flagId'];\n      this.flaggingService.deleteFlag(flagId).subscribe(res => {\n        console.log(res);\n        this.ngOnInit();\n      });\n    }\n  }\n\n  flagStatus(post) {\n    if (!post.flags.length) return 'Flagged';else return 'Flag';\n  }\n  /****************************************\n   *                                       *\n   *           Jump to top below           *\n   *                                       *\n   *****************************************/\n\n\n  jumpToTop() {\n    document.body.scrollTop = 0; // For Safari\n\n    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n  }\n\n}\n\nPostComponent.ɵfac = function PostComponent_Factory(t) {\n  return new (t || PostComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.PostsService), i0.ɵɵdirectiveInject(i4.NoPostsService), i0.ɵɵdirectiveInject(i5.VotingService), i0.ɵɵdirectiveInject(i6.FlaggingService), i0.ɵɵdirectiveInject(i7.UserService));\n};\n\nPostComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostComponent,\n  selectors: [[\"app-post\"]],\n  inputs: {\n    type: \"type\"\n  },\n  decls: 7,\n  vars: 4,\n  consts: [[1, \"posts\", \"justify-content-center\"], [1, \"buffer\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mb-4 mx-auto\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mx-auto\", 4, \"ngIf\"], [\"class\", \"jtt col-xxl-6 col-xl-8 col-lg-11 col-md-12 mx-auto\", 4, \"ngIf\"], [\"id\", \"post-modal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"postModalLable\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mb-4\", \"mx-auto\"], [1, \"card\", \"h-100\", \"bg-mid\", \"shadow\", \"mb-4\", 3, \"id\"], [1, \"card-header\", \"bg-mid\", \"py-3\", \"d-flex\", \"flex-row\", \"align-items-center\", \"justify-content-between\"], [1, \"m-0\", \"font-weight-bold\"], [1, \"dropdown\", \"no-arrow\"], [\"href\", \"#\", \"role\", \"button\", \"id\", \"dropdownMenuLink\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"dropdown-toggle\"], [1, \"text-gray-400\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"animated--fade-in\"], [1, \"dropdown-header\"], [1, \"dropdown-item\", 3, \"click\"], [\"class\", \"dropdown-item\", 3, \"click\", 4, \"ngIf\"], [1, \"card-body\"], [1, \"card-footer\"], [1, \"row\", \"justify-content-between\"], [1, \"col-xxl-2\", \"col-xl-2\", \"col-lg-2\", \"col-md-2\", \"col-sm-3\", \"col-xsm-2\", \"justify-content-between\"], [1, \"row\", \"vote\"], [1, \"vote-arrows\", 3, \"click\"], [\"src\", \"../../../assets/upvote.svg\", \"alt\", \"\"], [1, \"vote-count\", \"text-center\", 3, \"id\"], [\"src\", \"../../../assets/downvote.svg\", \"alt\", \"\"], [1, \"justify-content-end\", \"col-xxl-5\", \"col-xl-5\", \"col-lg-5\", \"col-md-5\", \"col-sm-9\", \"col-xsm-7\"], [1, \"text-gray-400\", 3, \"routerLink\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mx-auto\"], [1, \"card\", \"h-100\", \"bg-mid\", \"shadow\", \"mb-4\"], [1, \"m-0\", \"font-weight-bold\", 3, \"innerHtml\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"bg-dropdown\", \"animated--fade-in\"], [\"href\", \"#\", 1, \"dropdown-item\"], [\"routerLink\", \"/explore\"], [\"href\", \"#\", \"data-toggle\", \"modal\", \"data-target\", \"#post-modal\"], [1, \"row\"], [1, \"vote-arrows\"], [\"src\", \"../../../assets/upvote.svg\", \"alt\", \"\", 2, \"filter\", \"brightness(5) saturate(0%)\"], [1, \"vote-count\", \"text-center\"], [\"src\", \"../../../assets/downvote.svg\", \"alt\", \"\", 2, \"filter\", \"brightness(5) saturate(0%)\"], [1, \"col-xxl-8\", \"col-xl-8\", \"col-lg-8\", \"col-md-8\", \"col-sm-8\", \"col-xsm-8\"], [1, \"jtt\", \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mx-auto\"], [1, \"jtt-button\", \"justify-content-center\", \"text-center\", 3, \"click\"], [\"src\", \"../../../../assets/upvote.svg\", \"alt\", \"Jump to top button\", 1, \"jtt-img\", \"mx-auto\"]],\n  template: function PostComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵtemplate(2, PostComponent_div_2_Template, 33, 17, \"div\", 2);\n      i0.ɵɵtemplate(3, PostComponent_div_3_Template, 33, 1, \"div\", 3);\n      i0.ɵɵtemplate(4, PostComponent_div_4_Template, 30, 1, \"div\", 3);\n      i0.ɵɵtemplate(5, PostComponent_div_5_Template, 3, 0, \"div\", 4);\n      i0.ɵɵelement(6, \"app-post-input\", 5);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !(ctx.posts == null ? null : ctx.posts.length) && ctx.postType === 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !(ctx.posts == null ? null : ctx.posts.length) && ctx.postType === 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (ctx.posts == null ? null : ctx.posts.length) > 5);\n    }\n  },\n  styles: [\"#posts[_ngcontent-%COMP%] {\\n    margin: 0 auto;\\n}\\n\\n.vote[_ngcontent-%COMP%] {\\n    display: flex;\\n    text-align: center;\\n}\\n\\n.buffer[_ngcontent-%COMP%] {\\n    margin-top: 2em;\\n}\\n\\n.vote-arrows[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n\\n.vote-arrows[_ngcontent-%COMP%]:hover {\\n    filter: brightness(70%);\\n}\\n\\n.vote-count[_ngcontent-%COMP%] {\\n    text-align: center;\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n\\n.jtt[_ngcontent-%COMP%] {\\n    margin-top: 5em;\\n    margin: 2em;\\n    position: relative;\\n}\\n\\n.jtt-button[_ngcontent-%COMP%] {\\n    width: 2em;\\n    width: 2em;\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    margin: -25px 0 0 -25px;\\n}\\n\\n.jtt-img[_ngcontent-%COMP%] {\\n    margin-top: 2em !important;\\n    width: 3em !important;\\n    width: 3em !important;\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n\\n.jtt-img[_ngcontent-%COMP%]:hover {\\n    filter: brightness(70%);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFdBQVc7SUFDWCxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxVQUFVO0lBQ1YsVUFBVTtJQUNWLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsU0FBUztJQUNULHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLDBCQUEwQjtJQUMxQixxQkFBcUI7SUFDckIscUJBQXFCO0lBQ3JCLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksdUJBQXVCO0FBQzNCIiwiZmlsZSI6InBvc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiNwb3N0cyB7XG4gICAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi52b3RlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmJ1ZmZlciB7XG4gICAgbWFyZ2luLXRvcDogMmVtO1xufVxuXG4udm90ZS1hcnJvd3Mge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxuLnZvdGUtYXJyb3dzOmhvdmVyIHtcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoNzAlKTtcbn1cblxuLnZvdGUtY291bnQge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG5cbi5qdHQge1xuICAgIG1hcmdpbi10b3A6IDVlbTtcbiAgICBtYXJnaW46IDJlbTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5qdHQtYnV0dG9uIHtcbiAgICB3aWR0aDogMmVtO1xuICAgIHdpZHRoOiAyZW07XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNTAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICBtYXJnaW46IC0yNXB4IDAgMCAtMjVweDtcbn1cblxuLmp0dC1pbWcge1xuICAgIG1hcmdpbi10b3A6IDJlbSAhaW1wb3J0YW50O1xuICAgIHdpZHRoOiAzZW0gIWltcG9ydGFudDtcbiAgICB3aWR0aDogM2VtICFpbXBvcnRhbnQ7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufVxuXG4uanR0LWltZzpob3ZlciB7XG4gICAgZmlsdGVyOiBicmlnaHRuZXNzKDcwJSk7XG59Il19 */\"]\n});","map":{"version":3,"sources":["/Users/baeonette/Software Development/Final-Project/broadcast/broadcast-frontend/src/app/components/feed/post/post.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","i7","PostComponent_div_2_a_14_Template","rf","ctx","_r8","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","PostComponent_div_2_a_14_Template_a_click_0_listener","ɵɵrestoreView","post_r4","ɵɵnextContext","$implicit","ctx_r6","handleFollow","ɵɵtext","ɵɵelementEnd","ctx_r5","ɵɵadvance","ɵɵtextInterpolate","followStatus","PostComponent_div_2_Template","_r11","PostComponent_div_2_Template_a_click_12_listener","restoredCtx","ctx_r10","handleFlag","ɵɵtemplate","PostComponent_div_2_Template_div_click_21_listener","ctx_r12","upvote","ɵɵelement","PostComponent_div_2_Template_div_click_25_listener","ctx_r13","downvote","ɵɵpipe","ctx_r0","ɵɵpropertyInterpolate1","messageId","messageTitle","flagStatus","ɵɵproperty","isCurrentUserPost","ɵɵtextInterpolate1","messageBody","ɵɵstyleMap","currentUser","hasVoted","voteSummary","appUser","id","username","ɵɵpipeBind2","dateStamp","PostComponent_div_3_Template","ctx_r1","noPostsMessage","ɵɵsanitizeHtml","PostComponent_div_4_Template","ctx_r2","PostComponent_div_5_Template","_r15","PostComponent_div_5_Template_div_click_1_listener","ctx_r14","jumpToTop","PostComponent","constructor","http","router","postService","noPostsService","votingService","flaggingService","userService","ngOnInit","postType","type","getCurrentUser","subscribe","res","getFollowingPosts","followingUsers","console","log","getAllPosts","posts","noPosts","post","votes","filter","vote","value","length","createMessageVote","err","status","voteId","deleteMessageVote","createMessageDownVote","isFollowing","user","followUser","unfollowUser","isFlagged","flags","postId","createFlag","flagId","deleteFlag","document","body","scrollTop","documentElement","ɵfac","PostComponent_Factory","t","ɵɵdirectiveInject","HttpClient","Router","PostsService","NoPostsService","VotingService","FlaggingService","UserService","ɵcmp","ɵɵdefineComponent","selectors","inputs","decls","vars","consts","template","PostComponent_Template","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/posts.service\";\nimport * as i4 from \"src/app/services/no-posts.service\";\nimport * as i5 from \"src/app/services/voting.service\";\nimport * as i6 from \"src/app/services/flagging.service\";\nimport * as i7 from \"src/app/services/user.service\";\nfunction PostComponent_div_2_a_14_Template(rf, ctx) { if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_a_14_Template_a_click_0_listener() { i0.ɵɵrestoreView(_r8); const post_r4 = i0.ɵɵnextContext().$implicit; const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.handleFollow(post_r4); });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const post_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.followStatus(post_r4));\n} }\nfunction PostComponent_div_2_Template(rf, ctx) { if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"div\", 8)(3, \"h6\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 10)(6, \"a\", 11)(7, \"div\", 12);\n    i0.ɵɵtext(8, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 13)(10, \"div\", 14);\n    i0.ɵɵtext(11, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_a_click_12_listener() { const restoredCtx = i0.ɵɵrestoreView(_r11); const post_r4 = restoredCtx.$implicit; const ctx_r10 = i0.ɵɵnextContext(); return ctx_r10.handleFlag(post_r4); });\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, PostComponent_div_2_a_14_Template, 2, 1, \"a\", 16);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"div\", 17);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 18)(18, \"div\", 19)(19, \"div\", 20)(20, \"div\", 21)(21, \"div\", 22);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_21_listener() { const restoredCtx = i0.ɵɵrestoreView(_r11); const post_r4 = restoredCtx.$implicit; const ctx_r12 = i0.ɵɵnextContext(); return ctx_r12.upvote(post_r4); });\n    i0.ɵɵelement(22, \"img\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 24);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 22);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_25_listener() { const restoredCtx = i0.ɵɵrestoreView(_r11); const post_r4 = restoredCtx.$implicit; const ctx_r13 = i0.ɵɵnextContext(); return ctx_r13.downvote(post_r4); });\n    i0.ɵɵelement(26, \"img\", 25);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 26)(28, \"a\", 27);\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"a\");\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"date\");\n    i0.ɵɵelementEnd()()()()()();\n} if (rf & 2) {\n    const post_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"post-\", post_r4.messageId, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r4.messageTitle);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.flagStatus(post_r4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isCurrentUserPost(post_r4));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", post_r4.messageBody, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵstyleMap(ctx_r0.currentUser && ctx_r0.hasVoted(post_r4) === 1 ? \"filter: none;\" : \"filter: brightness(5) saturate(0%);\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"post-\", post_r4.messageId, \"-vote-count\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", post_r4.voteSummary, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(ctx_r0.currentUser && ctx_r0.hasVoted(post_r4) === -1 ? \"filter: none;\" : \"filter: brightness(5) saturate(0%);\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", \"/user/\" + post_r4.appUser.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(post_r4.appUser.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" // \", i0.ɵɵpipeBind2(32, 14, post_r4.dateStamp, \"short\"), \"\");\n} }\nfunction PostComponent_div_3_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29)(2, \"div\", 8);\n    i0.ɵɵelement(3, \"h6\", 30);\n    i0.ɵɵelementStart(4, \"div\", 10)(5, \"a\", 11)(6, \"div\", 12);\n    i0.ɵɵtext(7, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 31)(9, \"div\", 14);\n    i0.ɵɵtext(10, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 32);\n    i0.ɵɵtext(12, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 32);\n    i0.ɵɵtext(14, \"Follow\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 17);\n    i0.ɵɵtext(16, \" Check \");\n    i0.ɵɵelementStart(17, \"a\", 33);\n    i0.ɵɵtext(18, \"the explore page\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" to find people to follow, or Broadcast something \");\n    i0.ɵɵelementStart(20, \"a\", 34);\n    i0.ɵɵtext(21, \"here\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 18)(23, \"div\", 35)(24, \"div\", 20)(25, \"div\", 21)(26, \"div\", 36);\n    i0.ɵɵelement(27, \"img\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 38);\n    i0.ɵɵtext(29, \" 0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 36);\n    i0.ɵɵelement(31, \"img\", 39);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(32, \"div\", 40);\n    i0.ɵɵelementEnd()()()();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.noPostsMessage, i0.ɵɵsanitizeHtml);\n} }\nfunction PostComponent_div_4_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29)(2, \"div\", 8);\n    i0.ɵɵelement(3, \"h6\", 30);\n    i0.ɵɵelementStart(4, \"div\", 10)(5, \"a\", 11)(6, \"div\", 12);\n    i0.ɵɵtext(7, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 31)(9, \"div\", 14);\n    i0.ɵɵtext(10, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 32);\n    i0.ɵɵtext(12, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 32);\n    i0.ɵɵtext(14, \"Follow\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 17);\n    i0.ɵɵtext(16, \" Either an error occurred, or you will be the first to create a post! Broadcast something \");\n    i0.ɵɵelementStart(17, \"a\", 34);\n    i0.ɵɵtext(18, \"here\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 18)(20, \"div\", 35)(21, \"div\", 20)(22, \"div\", 21)(23, \"div\", 36);\n    i0.ɵɵelement(24, \"img\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 38);\n    i0.ɵɵtext(26, \" 0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 36);\n    i0.ɵɵelement(28, \"img\", 39);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(29, \"div\", 40);\n    i0.ɵɵelementEnd()()()();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.noPostsMessage, i0.ɵɵsanitizeHtml);\n} }\nfunction PostComponent_div_5_Template(rf, ctx) { if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"div\", 42);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_5_Template_div_click_1_listener() { i0.ɵɵrestoreView(_r15); const ctx_r14 = i0.ɵɵnextContext(); return ctx_r14.jumpToTop(); });\n    i0.ɵɵelement(2, \"img\", 43);\n    i0.ɵɵelementEnd()();\n} }\nexport class PostComponent {\n    constructor(http, // Build private HTTP client\n    router, // Build private router\n    postService, // Create post service\n    noPostsService, // Import no posts messages\n    votingService, // Import Voting service\n    flaggingService, // Import flagging service\n    userService) {\n        this.http = http;\n        this.router = router;\n        this.postService = postService;\n        this.noPostsService = noPostsService;\n        this.votingService = votingService;\n        this.flaggingService = flaggingService;\n        this.userService = userService;\n    }\n    // Make async so request happen asynchronously\n    async ngOnInit() {\n        this.postType = this.type;\n        // Get user data\n        this.userService.getCurrentUser().subscribe(res => {\n            this.currentUser = res;\n        });\n        this.postService.getFollowingPosts().subscribe(res => {\n            this.followingUsers = res;\n            console.log(res);\n        });\n        // Run for explore page\n        if (this.type === 2) {\n            this.postService.getAllPosts().subscribe((res) => {\n                this.posts = res;\n            });\n        }\n        else if (this.type === 1) { // Runs for home page\n            this.postService.getFollowingPosts().subscribe(res => {\n                this.posts = res;\n            });\n        }\n        if (!this.posts) {\n            this.noPostsMessage = this.noPostsService.noPosts();\n        }\n    }\n    /************************************\n     *                                  *\n     *           Voting below           *\n     *                                  *\n     ************************************/\n    // Checks if user has voted, and vote status\n    hasVoted(post) {\n        // Return 1 if user has voted on the post, 0 if they have not, and -1 if its a downvote\n        if (post.votes.filter((vote) => vote.appUser.id === this.currentUser.id && vote.value === 1).length)\n            return 1;\n        else if (post.votes.filter((vote) => vote.appUser.id === this.currentUser.id && vote.value === -1).length)\n            return -1;\n        else\n            return 0;\n    }\n    ;\n    // Upvotes message\n    upvote(post) {\n        if (this.hasVoted(post) === 0) { // If user has NOT VOTED\n            // User hasn't voted, so we add a vote\n            this.votingService.createMessageVote(post.messageId).subscribe(res => {\n                // Reload component\n                this.ngOnInit();\n            }, err => {\n                if (err.status === 500)\n                    return;\n            });\n        }\n        if (this.hasVoted(post) === 1) { // If user HAS UPVOTED\n            // User has voted, so we remove the vote\n            let voteId = (post.votes.filter((vote) => vote.appUser.id === this.currentUser.id));\n            voteId = voteId[0].voteId;\n            // Clear upvote\n            this.votingService.deleteMessageVote(voteId).subscribe(res => {\n                this.ngOnInit();\n            }, err => {\n                if (err.status === 500)\n                    return;\n            });\n        }\n        if (this.hasVoted(post) === -1) { // If user HAS DOWNVOTED\n            // User has downvoted, but wants to upvote, so we add a vote\n            let voteId = (post.votes.filter((vote) => vote.appUser.id === this.currentUser.id));\n            voteId = voteId[0].voteId;\n            // Remove downvote\n            this.votingService.deleteMessageVote(voteId).subscribe(res => {\n                // Then add upvote\n                this.votingService.createMessageVote(post.messageId).subscribe(res => {\n                    this.ngOnInit();\n                }, err => {\n                    if (err.status === 500)\n                        return;\n                });\n            });\n        }\n    }\n    ;\n    // Downvote message\n    downvote(post) {\n        if (this.hasVoted(post) === 0) { // If user has NOT VOTED\n            // User hasn't voted, so we add a downvote\n            this.votingService.createMessageDownVote(post.messageId).subscribe(res => {\n                this.ngOnInit();\n            }, err => {\n                if (err.status === 500)\n                    return;\n            });\n        }\n        if (this.hasVoted(post) === 1) { // If user HAS UPVOTED\n            // User has voted, so we remove the vote\n            let voteId = (post.votes.filter((vote) => vote.appUser.id === this.currentUser.id));\n            voteId = voteId[0].voteId;\n            // Delete upvote\n            this.votingService.deleteMessageVote(voteId).subscribe(res => {\n                // Add downvote\n                this.votingService.createMessageDownVote(post.messageId).subscribe(res => {\n                    this.ngOnInit();\n                });\n            }, err => {\n                if (err.status === 500)\n                    return;\n            });\n        }\n        if (this.hasVoted(post) === -1) { // If user HAS DOWNVOTED\n            // User has downvoted, but wants to downvote again, so we clear vote\n            let voteId = (post.votes.filter((vote) => vote.appUser.id === this.currentUser.id));\n            voteId = voteId[0].voteId;\n            // Delete upvote\n            this.votingService.deleteMessageVote(voteId).subscribe(res => {\n                this.ngOnInit();\n            }, err => {\n                if (err.status === 500)\n                    return;\n            });\n        }\n    }\n    ;\n    /*************************************\n     *                                   *\n     *          Following below          *\n     *                                   *\n     *************************************/\n    // Checks if current user made post\n    isCurrentUserPost(post) {\n        // Returns true if currentUser made post, else return false\n        return post.appUser.id !== this.currentUser.id;\n    }\n    // Checks if user is following. bool true/false\n    isFollowing(post, appUser) {\n        //  Return true if following, false if not following\n        if (appUser.filter((user) => user.appUser.id === post.appUser.id).length)\n            return true;\n        else if (appUser.filter((user) => user.appUser.id !== post.appUser.id).length)\n            return false;\n        else\n            return null;\n    }\n    ;\n    // Follows un-following users, and un-follows following users\n    handleFollow(post) {\n        if (!this.isFollowing(post, this.followingUsers)) { // If NOT following, follow\n            this.userService.followUser(post.appUser.id).subscribe(res => {\n                console.log(res);\n                this.ngOnInit();\n            });\n        }\n        else if (this.isFollowing(post, this.followingUsers)) { // If following, unfollow\n            this.userService.unfollowUser(post.appUser.id).subscribe(res => {\n                console.log(res);\n                this.ngOnInit();\n            });\n        }\n    }\n    followStatus(post) {\n        // If followingUsers contains user ID from post, switch text from \"follow\" to \"unfollow\"\n        if (this.isFollowing(post, this.followingUsers))\n            return 'Unfollow';\n        else\n            return 'Follow';\n    }\n    /**************************************\n     *                                    *\n     *           Flagging below           *\n     *                                    *\n     **************************************/\n    isFlagged(post /*, appUser: any*/) {\n        if (!post.flags.length) {\n            //flag array is empty, no flag\n            return 0;\n        }\n        //flag array exists\n        else\n            return 1;\n    }\n    handleFlag(post) {\n        //method calls isFlagged to check to see if there is an existing flag, if there is, \n        //uses createFlag with HTTP POST. If not uses HTTP DELETE deleteFlag.\n        var postId = post.messageId;\n        if (this.isFlagged(post) === 0) {\n            //then flag does not exist, HTTP POST flag\n            this.flaggingService.createFlag(postId).subscribe(res => {\n                console.log(res);\n                this.ngOnInit();\n            });\n        }\n        //flag exists, delete flag\n        else {\n            //flagId is inside flag[0] array\n            var flagId = post.flags[0]['flagId'];\n            this.flaggingService.deleteFlag(flagId).subscribe(res => {\n                console.log(res);\n                this.ngOnInit();\n            });\n        }\n    }\n    flagStatus(post) {\n        if (!post.flags.length)\n            return 'Flagged';\n        else\n            return 'Flag';\n    }\n    /****************************************\n     *                                       *\n     *           Jump to top below           *\n     *                                       *\n     *****************************************/\n    jumpToTop() {\n        document.body.scrollTop = 0; // For Safari\n        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n    }\n}\nPostComponent.ɵfac = function PostComponent_Factory(t) { return new (t || PostComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.PostsService), i0.ɵɵdirectiveInject(i4.NoPostsService), i0.ɵɵdirectiveInject(i5.VotingService), i0.ɵɵdirectiveInject(i6.FlaggingService), i0.ɵɵdirectiveInject(i7.UserService)); };\nPostComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PostComponent, selectors: [[\"app-post\"]], inputs: { type: \"type\" }, decls: 7, vars: 4, consts: [[1, \"posts\", \"justify-content-center\"], [1, \"buffer\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mb-4 mx-auto\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mx-auto\", 4, \"ngIf\"], [\"class\", \"jtt col-xxl-6 col-xl-8 col-lg-11 col-md-12 mx-auto\", 4, \"ngIf\"], [\"id\", \"post-modal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"postModalLable\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mb-4\", \"mx-auto\"], [1, \"card\", \"h-100\", \"bg-mid\", \"shadow\", \"mb-4\", 3, \"id\"], [1, \"card-header\", \"bg-mid\", \"py-3\", \"d-flex\", \"flex-row\", \"align-items-center\", \"justify-content-between\"], [1, \"m-0\", \"font-weight-bold\"], [1, \"dropdown\", \"no-arrow\"], [\"href\", \"#\", \"role\", \"button\", \"id\", \"dropdownMenuLink\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"dropdown-toggle\"], [1, \"text-gray-400\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"animated--fade-in\"], [1, \"dropdown-header\"], [1, \"dropdown-item\", 3, \"click\"], [\"class\", \"dropdown-item\", 3, \"click\", 4, \"ngIf\"], [1, \"card-body\"], [1, \"card-footer\"], [1, \"row\", \"justify-content-between\"], [1, \"col-xxl-2\", \"col-xl-2\", \"col-lg-2\", \"col-md-2\", \"col-sm-3\", \"col-xsm-2\", \"justify-content-between\"], [1, \"row\", \"vote\"], [1, \"vote-arrows\", 3, \"click\"], [\"src\", \"../../../assets/upvote.svg\", \"alt\", \"\"], [1, \"vote-count\", \"text-center\", 3, \"id\"], [\"src\", \"../../../assets/downvote.svg\", \"alt\", \"\"], [1, \"justify-content-end\", \"col-xxl-5\", \"col-xl-5\", \"col-lg-5\", \"col-md-5\", \"col-sm-9\", \"col-xsm-7\"], [1, \"text-gray-400\", 3, \"routerLink\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mx-auto\"], [1, \"card\", \"h-100\", \"bg-mid\", \"shadow\", \"mb-4\"], [1, \"m-0\", \"font-weight-bold\", 3, \"innerHtml\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"bg-dropdown\", \"animated--fade-in\"], [\"href\", \"#\", 1, \"dropdown-item\"], [\"routerLink\", \"/explore\"], [\"href\", \"#\", \"data-toggle\", \"modal\", \"data-target\", \"#post-modal\"], [1, \"row\"], [1, \"vote-arrows\"], [\"src\", \"../../../assets/upvote.svg\", \"alt\", \"\", 2, \"filter\", \"brightness(5) saturate(0%)\"], [1, \"vote-count\", \"text-center\"], [\"src\", \"../../../assets/downvote.svg\", \"alt\", \"\", 2, \"filter\", \"brightness(5) saturate(0%)\"], [1, \"col-xxl-8\", \"col-xl-8\", \"col-lg-8\", \"col-md-8\", \"col-sm-8\", \"col-xsm-8\"], [1, \"jtt\", \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mx-auto\"], [1, \"jtt-button\", \"justify-content-center\", \"text-center\", 3, \"click\"], [\"src\", \"../../../../assets/upvote.svg\", \"alt\", \"Jump to top button\", 1, \"jtt-img\", \"mx-auto\"]], template: function PostComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"div\", 1);\n        i0.ɵɵtemplate(2, PostComponent_div_2_Template, 33, 17, \"div\", 2);\n        i0.ɵɵtemplate(3, PostComponent_div_3_Template, 33, 1, \"div\", 3);\n        i0.ɵɵtemplate(4, PostComponent_div_4_Template, 30, 1, \"div\", 3);\n        i0.ɵɵtemplate(5, PostComponent_div_5_Template, 3, 0, \"div\", 4);\n        i0.ɵɵelement(6, \"app-post-input\", 5);\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.posts == null ? null : ctx.posts.length) && ctx.postType === 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.posts == null ? null : ctx.posts.length) && ctx.postType === 2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.posts == null ? null : ctx.posts.length) > 5);\n    } }, styles: [\"#posts[_ngcontent-%COMP%] {\\n    margin: 0 auto;\\n}\\n\\n.vote[_ngcontent-%COMP%] {\\n    display: flex;\\n    text-align: center;\\n}\\n\\n.buffer[_ngcontent-%COMP%] {\\n    margin-top: 2em;\\n}\\n\\n.vote-arrows[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n\\n.vote-arrows[_ngcontent-%COMP%]:hover {\\n    filter: brightness(70%);\\n}\\n\\n.vote-count[_ngcontent-%COMP%] {\\n    text-align: center;\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n\\n.jtt[_ngcontent-%COMP%] {\\n    margin-top: 5em;\\n    margin: 2em;\\n    position: relative;\\n}\\n\\n.jtt-button[_ngcontent-%COMP%] {\\n    width: 2em;\\n    width: 2em;\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    margin: -25px 0 0 -25px;\\n}\\n\\n.jtt-img[_ngcontent-%COMP%] {\\n    margin-top: 2em !important;\\n    width: 3em !important;\\n    width: 3em !important;\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n\\n.jtt-img[_ngcontent-%COMP%]:hover {\\n    filter: brightness(70%);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFdBQVc7SUFDWCxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxVQUFVO0lBQ1YsVUFBVTtJQUNWLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsU0FBUztJQUNULHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLDBCQUEwQjtJQUMxQixxQkFBcUI7SUFDckIscUJBQXFCO0lBQ3JCLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksdUJBQXVCO0FBQzNCIiwiZmlsZSI6InBvc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiNwb3N0cyB7XG4gICAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi52b3RlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmJ1ZmZlciB7XG4gICAgbWFyZ2luLXRvcDogMmVtO1xufVxuXG4udm90ZS1hcnJvd3Mge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxuLnZvdGUtYXJyb3dzOmhvdmVyIHtcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoNzAlKTtcbn1cblxuLnZvdGUtY291bnQge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG5cbi5qdHQge1xuICAgIG1hcmdpbi10b3A6IDVlbTtcbiAgICBtYXJnaW46IDJlbTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5qdHQtYnV0dG9uIHtcbiAgICB3aWR0aDogMmVtO1xuICAgIHdpZHRoOiAyZW07XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNTAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICBtYXJnaW46IC0yNXB4IDAgMCAtMjVweDtcbn1cblxuLmp0dC1pbWcge1xuICAgIG1hcmdpbi10b3A6IDJlbSAhaW1wb3J0YW50O1xuICAgIHdpZHRoOiAzZW0gIWltcG9ydGFudDtcbiAgICB3aWR0aDogM2VtICFpbXBvcnRhbnQ7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufVxuXG4uanR0LWltZzpob3ZlciB7XG4gICAgZmlsdGVyOiBicmlnaHRuZXNzKDcwJSk7XG59Il19 */\"] });\n"]},"metadata":{},"sourceType":"module"}